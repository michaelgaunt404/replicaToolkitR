% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/rplc_check_to_download_bqtable.R
\name{rplc_check_to_download_bqtable}
\alias{rplc_check_to_download_bqtable}
\title{Check and Download a BigQuery Table}
\usage{
rplc_check_to_download_bqtable(
  bq_table,
  max_record,
  table_name,
  folder,
  file_name,
  return_obj,
  write_format = c("csv", "qs", "both")
)
}
\arguments{
\item{bq_table}{A `bigrquery` table reference object.}

\item{max_record}{The maximum number of records to download from the table.}

\item{table_name}{A character string for display in the message indicating the table name.}

\item{folder}{A character string specifying the folder path to save the downloaded file(s).}

\item{file_name}{A character string specifying the base file name (without extension).}

\item{return_obj}{Logical. If `TRUE`, the downloaded table is returned as an object.}

\item{write_format}{A character string indicating the file format(s) to write.
One of `"csv"`, `"qs"`, or `"both"`.}
}
\value{
If `return_obj = TRUE`, returns a data frame containing the downloaded BigQuery table.
Otherwise, returns `NULL`.
}
\description{
This helper function checks whether the user wants to download a BigQuery table,
and if confirmed, downloads the table using `bigrquery`, saves it to a specified folder
in `.csv`, `.qs`, or both formats, and optionally returns the downloaded object.
}
\details{
This function is designed to prompt the user interactively before downloading large
BigQuery tables. It utilizes `gauntlet::robust_prompt_used()` to ensure that the user
explicitly confirms the download action. The function supports saving the data as CSV and/or
a fast binary `.qs` file using `qs::qsave()`.
}
\examples{
\dontrun{
bq_ref <- bigrquery::bq_table("my_project", "my_dataset", "my_table")
rplc_check_to_download_bqtable(
  bq_table = bq_ref,
  max_record = 10000,
  table_name = "my_table",
  folder = "data/output",
  file_name = "my_table",
  return_obj = TRUE,
  write_format = "both"
)
}
}
